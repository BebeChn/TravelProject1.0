<div style="width:100%">
	<div id="member" style="min-width:100%;height:400px"></div>
</div>



@section Scripts
	{
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	<script src="https://code.highcharts.com/modules/export-data.js"></script>
	<script src="https://code.highcharts.com/modules/accessibility.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.5.0/axios.min.js" integrity="sha512-aoTNnqZcT8B4AmeCFmiSnDlc4Nj/KPaZyB5G7JnOnUEkdNpCZs1LCankiYi01sLTyWy+m2P+W4XM+BuQ3Q4/Dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>

		const container = document.querySelector('#member');
		let data = {};
		axios.get("https://localhost:7025/api/ChartApi/GetUsers")
			.then(response => {
				data = response.data;
				const Age = Object.keys(data.payingMemberAgeGroup);
				const paying = Object.values(data.payingMemberAgeGroup);
				const nonPaying = Object.values(data.nonPayingMemberAgeGroup);
				const female = Object.values(data.female);
				const male = Object.values(data.male);

				var myChart = Highcharts.chart(container, {
					chart: {
						type: "column",
					},
					title: {
						text: "會員年齡分佈",
					},
					subtitle: {
						text: "會員總數" + data.totalMember,
					},
					credits: {
						enabled: false
					},
					legend: {
						// 圖例設定
					},
					tooltip: {
						// 提示框設定
					},
					xAxis: {
						categories: Age,
					},
					yAxis: {
						title: {
							text: "人數"
						}
					},
					series: [{
						name: "有消費會員",
						data: paying
					},
					{
						name: "未消費會員",
						data: nonPaying
					},
					{
						name: "男性",
						data: male
					},
					{
						name: "女性",
						data: female
					}]
				});
			}).catch(err => {
				alert('請聯絡系統管理員');
			});
	</script>
}