@* @{
    Layout = "~/Views/User/UserCenter.cshtml";
} *@
<title>會員歷史訂單</title>
<link rel="stylesheet" href="styles.css">

<div id="app">
    <header>
        <h1>會員歷史訂單</h1>
    </header>
    <div class="container">
        <table class="order-table">
            <thead>
                <tr>
                    <th>訂單編號</th>
                    <th>方案名稱</th>
                    <th>數量</th>
                    <th>單價</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="o in oredrs">
                    <td>{{o.orderId}}</td>
                    <td>{{o.planId}}</td>
                    <td>{{o.quantity}}</td>
                    <td>{{o.unitPrice}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div> </div>
@section Scripts{
    <script src="app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js" integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        var baseAddress = "https://localhost:7025";
        var vueApp = new Vue({
            el: '#app',
            data: {
                orders: {},
            },
            mounted: function () {
                let _this = this;
                fetch(`${baseAddress}/api/UserApi/OrderDetails`, {
                    method: "GET"
                }).then(response => {
                    if (response.ok) {
                        return response.json();
                    }
                }).then(data => {
                    _this.orders = data;
                    console.log(data);
                }).catch(err => {
                    alert(err);
                });
            }
        });


    </script>
    }
