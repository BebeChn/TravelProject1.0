@{
	ViewData["Title"] = "住宿方案";
}

}
@section Styles{
	<link href="~/css/book-plan.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://unpkg.com/vue2-datepicker/index.css">
}


<section class="breadcrumb_area">
	<div class="overlay bg-parallax" data-stellar-ratio="0.8" data-stellar-vertical-offset="0" data-background=""></div>
	<div class="container">
		<div class="page-cover text-center">
			<h2 class="page-cover-tittle">Book Plan</h2>
		</div>
	</div>
</section>

<section id="app" class="about_history_area section_gap">
	<div class="container">
		<nav>
			<div class="nav nav-tabs" id="nav-tab" role="tablist">
				<button style="width:20%;border:1px solid gray;" class="nav-link active" id="nav-plan-tab" data-bs-toggle="tab" data-bs-target="#nav-plan" type="button" role="tab" aria-controls="nav-plan" aria-selected="true"><i class="fas fa-bus"></i>方案</button>
				<button style="width:20%;border:1px solid gray;" class="nav-link" id="nav-caption-tab" data-bs-toggle="tab" data-bs-target="#nav-caption" type="button" role="tab" aria-controls="nav-caption" aria-selected="false">商品說明</button>
				<button style="width:20%;border:1px solid gray;" class="nav-link" id="nav-describe-tab" data-bs-toggle="tab" data-bs-target="#nav-describe" type="button" role="tab" aria-controls="nav-describe" aria-selected="false">購買須知</button>
				<button style="width:20%;border:1px solid gray;" class="nav-link" id="nav-rating-tab" data-bs-toggle="tab" data-bs-target="#nav-rating" type="button" role="tab" aria-controls="nav-rating" aria-selected="false"><i class="fas fa-star"></i>評價</button>
			</div>
		</nav>

		<div class="tab-content" id="nav-tabContent" v-for="b in book">
			@* 分頁1 *@
			<div class="tab-pane fade show active" id="nav-plan" role="tabpanel" aria-labelledby="nav-plan-tab">
				<div class="row" style="margin-bottom:30px;">
					<div class="col-md-4">
						<img class="img-fluid" src="~/lib/image/mountain2.jpeg" />
					</div>
					<div class="col-md-8 d_flex align-items-center">
						<div class="about_content ">
							<h2 class="title title_color">{{b.productName}}</h2>
							<p>{{b.mainDescribe}}</p>
						</div>
					</div>
				</div>
				@* 商品方案 *@
				<div class="card" v-for="c in bookss">
					<div class="row">
						<div class="col-md-3">
							<img class="img-plan" :src="c.planImg" />
						</div>
						<div class="col-md-7">
							<div class="card-body">
								<h3 class="card-title">{{c.name}}</h3>
								<p class="card-text">{{c.describe}}</p>
							</div>
						</div>
						<div class="col-md-2 card-end">
							<button class="btn theme_btn button_hover info" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">選擇</button>
						</div>
						<div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
							<div class="accordion-body">
								<div class="row">
									<div class="col-md-6">
										<h2>選擇日期</h2>
										<template>
											<div>
												<date-picker v-model="time1" valueType="format"></date-picker>
											</div>
										</template>
									</div>
									<div class="col-md-6">
										<h2>選擇項目</h2>
										<div>
											<span>數量：</span>
											<br />
											<span>金額：</span>
											<span>NT0</span>
										</div>
										<div>
											<a class="btn theme_btn button_hover info">加入購物車</a>
											<a class="btn theme_btn button_hover info">立即訂購</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			@* 分頁2 *@
			<div class="tab-pane fade" id="nav-caption" role="tabpanel" aria-labelledby="nav-caption-tab">
				@*商品說明*@
				<div class="container caption">
					<div>
						<div class="row product-descripts">
							<div class="col-md-8 offset-2 text-center">
								<h2 class="title">商品說明</h2>
								<div class="row">
									<div class="col-md-4">
										<img class="img-caption" src="~/lib/image/mountain.jpeg" />
									</div>
									<div class="col-md-8">
										<p class="sub-descripts">{{}}</p>
									</div>
								</div>
							</div>
						</div>
						<div>
							<h4 class="sub-title">兌換方式</h4>
							<p class="sub-descripts">QRCode</p>
						</div>
						<div>
							<h4 class="sub-title">時段介紹</h4>
							<p class="sub-descripts">{{}}</p>
						</div>
					</div>
				</div>
			</div>
			@* 分頁3 *@
			<div class="tab-pane fade" id="nav-describe" role="tabpanel" aria-labelledby="nav-describe-tab">
				@*購買須知*@
				<div class="container describe">
					<div>
						<h2 class="title">購買須知</h2>
						<ul>
							<li>
								<p>{{}}</p>
							</li>
						</ul>
					</div>
				</div>
			</div>
			@* 分頁4 *@
			<div class="tab-pane fade" id="nav-rating" role="tabpanel" aria-labelledby="nav-rating-tab">
				@*商品評價*@
				<div class="comments-area">
					<h2>商品評價</h2>
					<div class="comment-list">
						<div class="single-comment justify-content-between d-flex">
							<div class="user justify-content-between d-flex">
								<div class="thumb">
								</div>
								<div class="desc">
									<h5><a href="#">Emilly Blunt</a></h5>
									<p class="date">December 4, 2017 at 3:12 pm </p>
									<p class="comment">
										Never say goodbye till the end comes!
									</p>
								</div>
							</div>
							<div class="reply-btn">
								<a href="" class="btn-reply text-uppercase">reply</a>
							</div>
						</div>
					</div>
					<div class="comment-list">
						<div class="single-comment justify-content-between d-flex">
							<div class="user justify-content-between d-flex">
								<div class="thumb">
								</div>
								<div class="desc">
									<h5><a href="#">Maria Luna</a></h5>
									<p class="date">December 4, 2017 at 3:12 pm </p>
									<p class="comment">
										Never say goodbye till the end comes!
									</p>
								</div>
							</div>
							<div class="reply-btn">
								<a href="" class="btn-reply text-uppercase">reply</a>
							</div>
						</div>
					</div>
					<div class="comment-list">
						<div class="single-comment justify-content-between d-flex">
							<div class="user justify-content-between d-flex">
								<div class="thumb">
								</div>
								<div class="desc">
									<h5><a href="#">Ina Hayes</a></h5>
									<p class="date">December 4, 2017 at 3:12 pm </p>
									<p class="comment">
										Never say goodbye till the end comes!
									</p>
								</div>
							</div>
							<div class="reply-btn">
								<a href="" class="btn-reply text-uppercase">reply</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

@section Scripts{
	<script src="https://unpkg.com/vue2-datepicker/index.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	<script>
		var baseAddress = "https://localhost:7025";
		Vue.component('datePicker', DatePicker);
		var app = new Vue({
			el: '#app',
			data: {
				book: [],
				bookss: [],
				queries: '',
				time1: null
			},
			mounted: function () {
				var _this = this;

				_this.queries = window.location.pathname.slice("11");

				fetch(`${baseAddress}/api/BookPlanApi/GetBook/${_this.queries}`, { method: 'GET' })
					.then(response => {
						if (response.ok) {
							return response.json();
						}
					}).then(data => {
						_this.book = data;
					}).catch(error => {
						alert(error);
					})

				fetch(`${baseAddress}/api/BookPlanApi/GetBookss/${_this.queries}`, { method: 'GET' })
					.then(response => {
						if (response.ok) {
							return response.json();
						}
					}).then(data => {
						_this.bookss = data;
					}).catch(error => {
						alert(error);
					})
			},
			method: {

			}
		})
	</script>
}